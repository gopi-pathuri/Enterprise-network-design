! ============================================
! Dist-4 Configuration
! Enterprise Network Project
! ============================================

hostname Dist-4

! Interface to Core-Sw1
interface GigabitEthernet0/1
 description Link to Core-Sw1
 ip address 10.0.14.2 255.255.255.0
 no shutdown

! VLAN Interfaces (SVIs)
interface Vlan10
 description Management VLAN
 ip address 192.168.10.4 255.255.255.0
 ip access-group HR_RESTRICT in
 no shutdown

interface Vlan20
 description HR VLAN
 ip address 192.168.20.4 255.255.255.0
 ip access-group HR_RESTRICT in
 no shutdown

interface Vlan30
 description Sales VLAN
 ip address 192.168.30.4 255.255.255.0
 no shutdown

interface Vlan40
 description IT VLAN
 ip address 192.168.40.4 255.255.255.0
 no shutdown

interface Vlan99
 description Native VLAN
 ip address 192.168.99.4 255.255.255.0
 no shutdown

! DHCP Configuration
ip dhcp excluded-address 192.168.10.1 192.168.10.10
ip dhcp excluded-address 192.168.20.1 192.168.20.10
ip dhcp excluded-address 192.168.30.1 192.168.30.10
ip dhcp excluded-address 192.168.40.1 192.168.40.10

ip dhcp pool VLAN10_MGMT
 network 192.168.10.0 255.255.255.0
 default-router 192.168.10.4
 dns-server 8.8.8.8

ip dhcp pool VLAN20_HR
 network 192.168.20.0 255.255.255.0
 default-router 192.168.20.4
 dns-server 8.8.8.8

ip dhcp pool VLAN30_SALES
 network 192.168.30.0 255.255.255.0
 default-router 192.168.30.4
 dns-server 8.8.8.8

ip dhcp pool VLAN40_IT
 network 192.168.40.0 255.255.255.0
 default-router 192.168.40.4
 dns-server 8.8.8.8

! Access Control List
ip access-list extended HR_RESTRICT
 deny ip 192.168.20.0 0.0.0.255 192.168.30.0 0.0.0.255
 deny ip 192.168.20.0 0.0.0.255 192.168.40.0 0.0.0.255
 permit ip any any

! OSPF Configuration
router ospf 1
 router-id 2.2.2.4
 network 10.0.14.0 0.0.0.255 area 0
 redistribute eigrp 100 subnets
 passive-interface default
 no passive-interface GigabitEthernet0/1

! EIGRP Configuration
router eigrp 100
 network 192.168.10.0 0.0.0.255
 network 192.168.20.0 0.0.0.255
 network 192.168.30.0 0.0.0.255
 network 192.168.40.0 0.0.0.255
 network 192.168.99.0 0.0.0.255
 redistribute ospf 1 metric 10000 100 255 1 1500
 no auto-summary
 passive-interface default
 no passive-interface Vlan10
 no passive-interface Vlan20
 no passive-interface Vlan30
 no passive-interface Vlan40

! SSH Configuration
ip domain-name enterprise.local
crypto key generate rsa general-keys modulus 1024
username admin privilege 15 secret Cisco123!
ip ssh version 2

line vty 0 4
 login local
 transport input ssh

line console 0
 logging synchronous

end
