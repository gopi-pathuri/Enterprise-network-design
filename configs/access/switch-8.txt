! ============================================
! Switch-8 Configuration
! Enterprise Network Project
! Access Layer - Daisy-chained via Switch-3 and Switch-4
! ============================================

hostname Switch-8

! VLANs
vlan 10
 name Management
vlan 20
 name HR
vlan 30
 name Sales
vlan 40
 name IT
vlan 99
 name Native

! Trunk to Switch-4 (Primary path - STP may block)
interface FastEthernet0/1
 description Trunk to Switch-4
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,40,99
 ip dhcp snooping trust
 no shutdown

! Trunk to Switch-3 (Forwarding path)
interface FastEthernet0/2
 description Trunk to Switch-3
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,40,99
 ip dhcp snooping trust
 no shutdown

! Access Ports with Port Security (skip Fa0/1, Fa0/2 - trunks)
interface range FastEthernet0/3 - 9
 switchport mode access
 switchport port-security
 switchport port-security maximum 2
 switchport port-security violation restrict
 switchport port-security mac-address sticky
 spanning-tree portfast
 spanning-tree bpduguard enable

! Example VLAN assignments
interface FastEthernet0/3
 switchport access vlan 20

interface FastEthernet0/4
 switchport access vlan 30

! DHCP Snooping
ip dhcp snooping
ip dhcp snooping vlan 10,20,30,40

! SSH Configuration
ip domain-name enterprise.local
crypto key generate rsa general-keys modulus 1024
username admin privilege 15 secret Cisco123!
ip ssh version 2

line vty 0 4
 login local
 transport input ssh

line console 0
 logging synchronous

! Note: STP will block one of the uplinks (Fa0/1 or Fa0/2)
! to prevent loops. This is expected behavior.
! Fa0/2 (to Switch-3) is typically the forwarding path.
! Fa0/1 (to Switch-4) serves as backup.

end
