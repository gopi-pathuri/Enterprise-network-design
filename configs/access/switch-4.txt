! ============================================
! Switch-4 Configuration
! Enterprise Network Project
! Access Layer - Connected to Dist-5
! Also connects to Switch-8 (daisy-chain)
! ============================================

hostname Switch-4

! VLANs
vlan 10
 name Management
vlan 20
 name HR
vlan 30
 name Sales
vlan 40
 name IT
vlan 99
 name Native

! Trunk to Dist-5
interface GigabitEthernet0/1
 description Trunk to Dist-5
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,40,99
 ip dhcp snooping trust
 no shutdown

! Trunk to Switch-8 (daisy-chain)
interface FastEthernet0/3
 description Trunk to Switch-8
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,40,99
 ip dhcp snooping trust
 no shutdown

! Access Ports with Port Security (skip Fa0/3 - trunk)
interface range FastEthernet0/1 - 2
 switchport mode access
 switchport port-security
 switchport port-security maximum 2
 switchport port-security violation restrict
 switchport port-security mac-address sticky
 spanning-tree portfast
 spanning-tree bpduguard enable

interface range FastEthernet0/4 - 9
 switchport mode access
 switchport port-security
 switchport port-security maximum 2
 switchport port-security violation restrict
 switchport port-security mac-address sticky
 spanning-tree portfast
 spanning-tree bpduguard enable

! Example VLAN assignments
interface FastEthernet0/1
 switchport access vlan 30

interface FastEthernet0/2
 switchport access vlan 99

! DHCP Snooping
ip dhcp snooping
ip dhcp snooping vlan 10,20,30,40

! SSH Configuration
ip domain-name enterprise.local
crypto key generate rsa general-keys modulus 1024
username admin privilege 15 secret Cisco123!
ip ssh version 2

line vty 0 4
 login local
 transport input ssh

line console 0
 logging synchronous

end
